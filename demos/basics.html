<!DOCTYPE html>

<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Demo 1: Basics</title>
</head>

<body>
	<h1>Demo 1: Basic Geometry and Shaders</h1>
	<canvas id="canvas" width="400" height="400" onmousemove="mouseMove(event)"></canvas>
	<form>
		<fieldset>
			<legend>Options</legend>
			<label>Shape sides:</label>
			<input type="range" id="inpSides" min="3" max="20" value="3"
				onchange="setSideCount(parseFloat(this.value))" />
			<label id="lblSideCount">3</label>
			<br />

			<label>Shape Radius:</label>
			<input type="range" id="inpRadius" min="10" max="200" value="100"
				onchange="setRadius(parseFloat(this.value))" />
			<label id="lblRadius">100</label>
			<br />

			<label>Shape Color:</label>
			<input type="color" id="inpColor" value="#008000" onchange="setShapeColor(this.value)" />
		</fieldset>
	</form>
	<h3>Changelog</h3>
	<p>8. Added radius uniform and input to change shape size</p>
	<p>7. Factored canvas size into the shader to correct for aspect ratio</p>
	<p>6. Added slider to change shape sides from 3 to 20</p>
	<p>5. Added color uniform and input to change shape color</p>
	<p>4. Added mouse move event handler that sets the shape location</p>
	<p>3. Choose to render a triangle or square, but they're just green</p>
	<p>2. Render a simple triangle with vertex colors</p>
	<p>1. Get the gl context from canvas and clear to a nice sky blue</p>

	<script id="triangleVS" type="text/glsl">
		attribute float vertId;

		uniform vec2 mousePos;
		uniform vec2 viewportSize;
		uniform float sideCount;
		uniform float radius;

		void main() {
			// vertId 0 is the center vertex of the triangle fan, the rest are the vertices around the edge
			if (vertId == 0.0) {
				gl_Position = vec4(mousePos / viewportSize * 2.0 - 1.0, 0.0, 1.0);
				return;
			}

			vec2 pos = mousePos;
			pos.x += sin((vertId - 1.0) / sideCount * 6.2831853) * radius;
			pos.y += cos((vertId - 1.0) / sideCount * 6.2831853) * radius;
			pos /= viewportSize;
			pos *= 2.0;
			pos -= 1.0;

			gl_Position = vec4(pos, 0.0, 1.0);
		}
	</script>
	<script id="triangleFS" type="text/glsl">
		precision mediump float;

		uniform vec4 color;

		void main() {
			gl_FragColor = color;
		}
	</script>
	<script src="basics.js"></script>
	<script>
		function mouseMove(e) {
			setMousePos(e);
			render();
		}
	</script>
</body>

<footer>
	<hr />
	<p>by Spencer Radtke</p>
	<p> Feb 18 2026</p>
</footer>

</html>